{% extends 'website/base.html' %}

{% load static %}

{% block custom_css %}
div > .alert {
  margin-top: 25px;
  text-align: center;
}
.edit, .delete {
  font-size: 25px;
  margin-right: 5px;
}

.info-box {
  background-color: white;
}

.info-box:hover {
  cursor: pointer;
  background-color: #f3f4f5;
}

tbody > tr > td {
  background-color: white;
}

table {
  -webkit-box-shadow: 0px 0px 3px 1px rgba(220,220,220,1);
  -moz-box-shadow: 0px 0px 3px 1px rgba(220,220,220,1);
  box-shadow: 0px 0px 3px 1px rgba(220,220,220,1);r
}
{% endblock custom_css %}


{% block content %}
    <div class="col-12">
      <span class="m-0 text-dark">
        Current Profile: <span class="fc-primary thin">{{settings.current_profile}}</span>
        <i class="fas fa-pencil-alt edit action-link animated item" href="{% url 'macros:update_profile' pk=settings.current_profile.pk %}" style="margin-left:5px;"></i>
        <i class="fas fa-trash-alt delete action-link animated item" href="{% url 'macros:delete_profile' pk=settings.current_profile.pk %}"></i>
      </span>
      <div class="row">
        <div class="col-md-7">
          <table class="table">
            <thead class="black white-text">
              <tr>
                <th>Recording Name</th>
                <th>Activation Key</th>
                <th>Interact</th>
              </tr>
            </thead>
            <tbody>
              {% for recording in settings.current_profile.get_recordings %}
              <tr>
                <th>{{ recording.name }}</th>
                <td>{{ recording.key_code }}</td>
                <td>
                  <i class="fas fa-pencil-alt edit action-link animated item" href="#" style="margin-left:5px;"></i>
                  <i class="fas fa-trash-alt delete action-link animated item" href="{% url 'macros:delete_recording' pk=recording.pk %}"></i>
                </td>
              </tr>
              {% empty %}
              <tr>
                <td colspan="3">You have no recordings saved to this profile.</td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
      <hr>
    </div>
    <div class="col-12">
      <span class="m-0 text-dark">Your Profiles</span>
      <a href="{% url 'macros:add_profile' %}">
        <button type="button" class="btn btn-success step1" name="button">Add Profile</button>
      </a>
      <br>
      (Click a profile to set it as your current profile)
      <br><br>
    </div>
    {% for profile in profiles %}
    <div class="col-12 col-sm-6 col-md-3">
      <div class="info-box action-link" href="{% url 'macros:set_current_profile' pk=profile.pk %}">
        <span class="info-box-icon bg-info elevation-1" style="background-color: {{profile.get_converted_hex_color}} !important;">
          <i class="{{ profile.icon }}" style="color: #{{ profile.color }};"></i>
        </span>

        <div class="info-box-content">
          <span class="info-box-text">
            {{ profile.name }}
            <i class="fas fa-pencil-alt edit action-link animated item" href="{% url 'macros:update_profile' pk=profile.pk %}" style="margin-left:5px;"></i>
            <i class="fas fa-trash-alt delete action-link animated item" href="{% url 'macros:delete_profile' pk=profile.pk %}"></i>
          </span>
          <span class="info-box-number">
            Recordings:
            <small>{{ profile.get_recordings|length }}</small>
          </span>
        </div>
        <!-- /.info-box-content -->
      </div>
      <!-- /.info-box -->
    </div>
    {% endfor %}
{% endblock content %}

{% block js %}
  <script type="text/javascript">
      // ----------------------------------------------
      // Dynamic Interface Graphics
      // ----------------------------------------------

      var animationClass = "tada";

      $('.edit').hover(function() {
        $(this).addClass(animationClass);
      });

      $('.edit').mouseout(function() {
        $(this).removeClass(animationClass);
      });

      // ----------------------------------------------

      $('.delete').hover(function() {
        $(this).addClass(animationClass);
      });

      $('.delete').mouseout(function() {
        $(this).removeClass(animationClass);
      });

  </script>
{% endblock js %}
